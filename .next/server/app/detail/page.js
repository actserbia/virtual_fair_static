(()=>{var e={};e.id=654,e.ids=[654],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var o=r(482),n=r(9108),i=r(2563),s=r.n(i),a=r(8300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let c=["",{children:["detail",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4188)),"D:\\www\\virtual_fair_static\\src\\app\\detail\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1276)),"D:\\www\\virtual_fair_static\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\www\\virtual_fair_static\\src\\app\\detail\\page.js"],u="/detail/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/detail/page",pathname:"/detail",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},695:(e,t,r)=>{Promise.resolve().then(r.bind(r,2256))},2256:(e,t,r)=>{"use strict";let o,n,i,s;r.r(t),r.d(t,{default:()=>eG});var a=r(2295),l=r(3729),c=r(9576),d=r(5398),u=r(3626),h=r(5651),m=r(6955);let p=2,f=new m.Vector3,y=new m.Vector3,g=new m.Vector3,x=new m.Vector2,w=new m.Vector2,_=new m.Vector2,T=new m.Vector3;function O(e,t,r,o,n){let i=3*o,s=e.index.getX(i),a=e.index.getX(i+1),l=e.index.getX(i+2),c=function(e,t,r,o,n,i,s){f.fromBufferAttribute(t,o),y.fromBufferAttribute(t,n),g.fromBufferAttribute(t,i);let a=null===(s===m.BackSide?e.intersectTriangle(g,y,f,!0,T):e.intersectTriangle(f,y,g,s!==m.DoubleSide,T))?null:{distance:e.origin.distanceTo(T),point:T.clone()};if(a){r&&(x.fromBufferAttribute(r,o),w.fromBufferAttribute(r,n),_.fromBufferAttribute(r,i),a.uv=m.Triangle.getUV(T,f,y,g,x,w,_,new m.Vector2));let e={a:o,b:n,c:i,normal:new m.Vector3,materialIndex:0};m.Triangle.getNormal(f,y,g,e.normal),a.face=e,a.faceIndex=o}return a}(r,e.attributes.position,e.attributes.uv,s,a,l,t);return c?(c.faceIndex=o,n&&n.push(c),c):null}function B(e,t,r){return null===e?null:(e.point.applyMatrix4(t.matrixWorld),e.distance=e.point.distanceTo(r.ray.origin),e.object=t,e.distance<r.near||e.distance>r.far)?null:e}class S{constructor(){}}function A(e,t,r){return r.min.x=t[e],r.min.y=t[e+1],r.min.z=t[e+2],r.max.x=t[e+3],r.max.y=t[e+4],r.max.z=t[e+5],r}function P(e){let t=-1,r=-1/0;for(let o=0;o<3;o++){let n=e[o+3]-e[o];n>r&&(r=n,t=o)}return t}function b(e,t,r){let o,n;for(let i=0;i<3;i++){let s=i+3;o=e[i],n=t[i],r[i]=o<n?o:n,o=e[s],n=t[s],r[s]=o>n?o:n}}function v(e,t,r){for(let o=0;o<3;o++){let n=t[e+2*o],i=t[e+2*o+1],s=n-i,a=n+i;s<r[o]&&(r[o]=s),a>r[o+3]&&(r[o+3]=a)}}function M(e){let t=e[3]-e[0],r=e[4]-e[1],o=e[5]-e[2];return 2*(t*r+r*o+o*t)}function D(e,t,r,o,n=null){let i=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,d=-1/0,u=1/0,h=1/0,m=1/0,p=-1/0,f=-1/0,y=-1/0,g=null!==n;for(let o=6*t,n=(t+r)*6;o<n;o+=6){let t=e[o+0],r=e[o+1],n=t-r,x=t+r;n<i&&(i=n),x>l&&(l=x),g&&t<u&&(u=t),g&&t>p&&(p=t);let w=e[o+2],_=e[o+3],T=w-_,O=w+_;T<s&&(s=T),O>c&&(c=O),g&&w<h&&(h=w),g&&w>f&&(f=w);let B=e[o+4],S=e[o+5],A=B-S,P=B+S;A<a&&(a=A),P>d&&(d=P),g&&B<m&&(m=B),g&&B>y&&(y=B)}o[0]=i,o[1]=s,o[2]=a,o[3]=l,o[4]=c,o[5]=d,g&&(n[0]=u,n[1]=h,n[2]=m,n[3]=p,n[4]=f,n[5]=y)}let E=(e,t)=>e.candidate-t.candidate,j=Array(32).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),I=new Float32Array(6);class L{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let r=1/0,o=-1/0;for(let n=0,i=e.length;n<i;n++){let i=e[n][t];r=i<r?i:r,o=i>o?i:o}this.min=r,this.max=o}setFromPoints(e,t){let r=1/0,o=-1/0;for(let n=0,i=t.length;n<i;n++){let i=t[n],s=e.dot(i);r=s<r?s:r,o=s>o?s:o}this.min=r,this.max=o}isSeparated(e){return this.min>e.max||e.min>this.max}}L.prototype.setFromBox=function(){let e=new m.Vector3;return function(t,r){let o=r.min,n=r.max,i=1/0,s=-1/0;for(let r=0;r<=1;r++)for(let a=0;a<=1;a++)for(let l=0;l<=1;l++){e.x=o.x*r+n.x*(1-r),e.y=o.y*a+n.y*(1-a),e.z=o.z*l+n.z*(1-l);let c=t.dot(e);i=Math.min(c,i),s=Math.max(c,s)}this.min=i,this.max=s}}(),new L;let H=function(){let e=new m.Vector3,t=new m.Vector3,r=new m.Vector3;return function(o,n,i){let s,a;let l=o.start,c=n.start;r.subVectors(l,c),e.subVectors(o.end,o.start),t.subVectors(n.end,n.start);let d=r.dot(t),u=t.dot(e),h=t.dot(t),m=r.dot(e),p=e.dot(e)*h-u*u;s=0!==p?(d*u-m*h)/p:0,a=(d+s*u)/h,i.x=s,i.y=a}}(),V=function(){let e=new m.Vector2,t=new m.Vector3,r=new m.Vector3;return function(o,n,i,s){H(o,n,e);let a=e.x,l=e.y;if(a>=0&&a<=1&&l>=0&&l<=1){o.at(a,i),n.at(l,s);return}if(a>=0&&a<=1){l<0?n.at(0,s):n.at(1,s),o.closestPointToPoint(s,!0,i);return}if(l>=0&&l<=1){a<0?o.at(0,i):o.at(1,i),n.closestPointToPoint(i,!0,s);return}{let e,c;if(e=a<0?o.start:o.end,c=l<0?n.start:n.end,o.closestPointToPoint(c,!0,t),n.closestPointToPoint(e,!0,r),t.distanceToSquared(c)<=r.distanceToSquared(e)){i.copy(t),s.copy(c);return}i.copy(e),s.copy(r);return}}}(),R=function(){let e=new m.Vector3,t=new m.Vector3,r=new m.Plane,o=new m.Line3;return function(n,i){let{radius:s,center:a}=n,{a:l,b:c,c:d}=i;if(o.start=l,o.end=c,o.closestPointToPoint(a,!0,e).distanceTo(a)<=s||(o.start=l,o.end=d,o.closestPointToPoint(a,!0,e).distanceTo(a)<=s)||(o.start=c,o.end=d,o.closestPointToPoint(a,!0,e).distanceTo(a)<=s))return!0;let u=i.getPlane(r);if(Math.abs(u.distanceToPoint(a))<=s){let e=u.projectPoint(a,t);if(i.containsPoint(e))return!0}return!1}}();function F(e){return 1e-15>Math.abs(e)}class N extends m.Triangle{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=[,,,,].fill().map(()=>new m.Vector3),this.satBounds=[,,,,].fill().map(()=>new L),this.points=[this.a,this.b,this.c],this.sphere=new m.Sphere,this.plane=new m.Plane,this.needsUpdate=!0}intersectsSphere(e){return R(e,this)}update(){let e=this.a,t=this.b,r=this.c,o=this.points,n=this.satAxes,i=this.satBounds,s=n[0],a=i[0];this.getNormal(s),a.setFromPoints(s,o);let l=n[1],c=i[1];l.subVectors(e,t),c.setFromPoints(l,o);let d=n[2],u=i[2];d.subVectors(t,r),u.setFromPoints(d,o);let h=n[3],m=i[3];h.subVectors(r,e),m.setFromPoints(h,o),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(s,e),this.needsUpdate=!1}}N.prototype.closestPointToSegment=function(){let e=new m.Vector3,t=new m.Vector3,r=new m.Line3;return function(o,n=null,i=null){let s;let{start:a,end:l}=o,c=this.points,d=1/0;for(let a=0;a<3;a++){let l=(a+1)%3;r.start.copy(c[a]),r.end.copy(c[l]),V(r,o,e,t),(s=e.distanceToSquared(t))<d&&(d=s,n&&n.copy(e),i&&i.copy(t))}return this.closestPointToPoint(a,e),(s=a.distanceToSquared(e))<d&&(d=s,n&&n.copy(e),i&&i.copy(a)),this.closestPointToPoint(l,e),(s=l.distanceToSquared(e))<d&&(d=s,n&&n.copy(e),i&&i.copy(l)),Math.sqrt(d)}}(),N.prototype.intersectsTriangle=function(){let e=new N,t=[,,,],r=[,,,],o=new L,n=new L,i=new m.Vector3,s=new m.Vector3,a=new m.Vector3,l=new m.Vector3,c=new m.Line3,d=new m.Line3,u=new m.Line3;return function(h,m=null,p=!1){this.needsUpdate&&this.update(),h.isExtendedTriangle?h.needsUpdate&&h.update():(e.copy(h),e.update(),h=e);let f=this.plane,y=h.plane;if(Math.abs(f.normal.dot(y.normal))>1-1e-10){let e=this.satBounds,s=this.satAxes;r[0]=h.a,r[1]=h.b,r[2]=h.c;for(let t=0;t<4;t++){let n=e[t],i=s[t];if(o.setFromPoints(i,r),n.isSeparated(o))return!1}let a=h.satBounds,l=h.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let e=0;e<4;e++){let r=a[e],n=l[e];if(o.setFromPoints(n,t),r.isSeparated(o))return!1}for(let e=0;e<4;e++){let a=s[e];for(let e=0;e<4;e++){let s=l[e];if(i.crossVectors(a,s),o.setFromPoints(i,t),n.setFromPoints(i,r),o.isSeparated(n))return!1}}return m&&(p||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),m.start.set(0,0,0),m.end.set(0,0,0)),!0}{let e=this.points,t=!1,r=0;for(let o=0;o<3;o++){let n=e[o],i=e[(o+1)%3];c.start.copy(n),c.end.copy(i),c.delta(s);let a=t?d.start:d.end,l=F(y.distanceToPoint(n));if(F(y.normal.dot(s))&&l){d.copy(c),r=2;break}if((y.intersectLine(c,a)||l)&&!F(a.distanceTo(i))){if(r++,t)break;t=!0}}if(1===r&&h.containsPoint(d.end))return m&&(m.start.copy(d.end),m.end.copy(d.end)),!0;if(2!==r)return!1;let o=h.points,n=!1,i=0;for(let e=0;e<3;e++){let t=o[e],r=o[(e+1)%3];c.start.copy(t),c.end.copy(r),c.delta(a);let s=n?u.start:u.end,l=F(f.distanceToPoint(t));if(F(f.normal.dot(a))&&l){u.copy(c),i=2;break}if((f.intersectLine(c,s)||l)&&!F(s.distanceTo(r))){if(i++,n)break;n=!0}}if(1===i&&this.containsPoint(u.end))return m&&(m.start.copy(u.end),m.end.copy(u.end)),!0;if(2!==i)return!1;if(d.delta(s),u.delta(a),0>s.dot(a)){let e=u.start;u.start=u.end,u.end=e}let p=d.start.dot(s),g=d.end.dot(s),x=u.start.dot(s),w=u.end.dot(s);return(p===w||x===g||g<x!=p<w)&&(m&&(l.subVectors(d.start,u.start),l.dot(s)>0?m.start.copy(d.start):m.start.copy(u.start),l.subVectors(d.end,u.end),0>l.dot(s)?m.end.copy(d.end):m.end.copy(u.end)),!0)}}}(),N.prototype.distanceToPoint=function(){let e=new m.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),N.prototype.distanceToTriangle=function(){let e=new m.Vector3,t=new m.Vector3,r=["a","b","c"],o=new m.Line3,n=new m.Line3;return function(i,s=null,a=null){let l=s||a?o:null;if(this.intersectsTriangle(i,l))return(s||a)&&(s&&l.getCenter(s),a&&l.getCenter(a)),0;let c=1/0;for(let t=0;t<3;t++){let o;let n=r[t],l=i[n];this.closestPointToPoint(l,e),(o=l.distanceToSquared(e))<c&&(c=o,s&&s.copy(e),a&&a.copy(l));let d=this[n];i.closestPointToPoint(d,e),(o=d.distanceToSquared(e))<c&&(c=o,s&&s.copy(d),a&&a.copy(e))}for(let l=0;l<3;l++){let d=r[l],u=r[(l+1)%3];o.set(this[d],this[u]);for(let l=0;l<3;l++){let d=r[l],u=r[(l+1)%3];n.set(i[d],i[u]),V(o,n,e,t);let h=e.distanceToSquared(t);h<c&&(c=h,s&&s.copy(e),a&&a.copy(t))}}return Math.sqrt(c)}}();class U{constructor(e,t,r){this.isOrientedBox=!0,this.min=new m.Vector3,this.max=new m.Vector3,this.matrix=new m.Matrix4,this.invMatrix=new m.Matrix4,this.points=Array(8).fill().map(()=>new m.Vector3),this.satAxes=[,,,].fill().map(()=>new m.Vector3),this.satBounds=[,,,].fill().map(()=>new L),this.alignedSatBounds=[,,,].fill().map(()=>new L),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),r&&this.matrix.copy(r)}set(e,t,r){this.min.copy(e),this.max.copy(t),this.matrix.copy(r),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}}function Y(e,t,r,o){let n=e.a,i=e.b,s=e.c,a=t,l=t+1,c=t+2;r&&(a=r.getX(t),l=r.getX(t+1),c=r.getX(t+2)),n.x=o.getX(a),n.y=o.getY(a),n.z=o.getZ(a),i.x=o.getX(l),i.y=o.getY(l),i.z=o.getZ(l),s.x=o.getX(c),s.y=o.getY(c),s.z=o.getZ(c)}function q(e,t,r,o,n,i,s){let a=r.index,l=r.attributes.position;for(let r=e,c=t+e;r<c;r++)if(Y(s,3*r,a,l),s.needsUpdate=!0,o(s,r,n,i))return!0;return!1}U.prototype.update=function(){let e=this.matrix,t=this.min,r=this.max,o=this.points;for(let n=0;n<=1;n++)for(let i=0;i<=1;i++)for(let s=0;s<=1;s++){let a=o[1*n|2*i|4*s];a.x=n?r.x:t.x,a.y=i?r.y:t.y,a.z=s?r.z:t.z,a.applyMatrix4(e)}let n=this.satBounds,i=this.satAxes,s=o[0];for(let e=0;e<3;e++){let t=i[e],r=n[e],a=o[1<<e];t.subVectors(s,a),r.setFromPoints(t,o)}let a=this.alignedSatBounds;a[0].setFromPointsField(o,"x"),a[1].setFromPointsField(o,"y"),a[2].setFromPointsField(o,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1},U.prototype.intersectsBox=function(){let e=new L;return function(t){this.needsUpdate&&this.update();let r=t.min,o=t.max,n=this.satBounds,i=this.satAxes,s=this.alignedSatBounds;if(e.min=r.x,e.max=o.x,s[0].isSeparated(e)||(e.min=r.y,e.max=o.y,s[1].isSeparated(e))||(e.min=r.z,e.max=o.z,s[2].isSeparated(e)))return!1;for(let r=0;r<3;r++){let o=i[r],s=n[r];if(e.setFromBox(o,t),s.isSeparated(e))return!1}return!0}}(),U.prototype.intersectsTriangle=function(){let e=new N,t=[,,,],r=new L,o=new L,n=new m.Vector3;return function(i){this.needsUpdate&&this.update(),i.isExtendedTriangle?i.needsUpdate&&i.update():(e.copy(i),e.update(),i=e);let s=this.satBounds,a=this.satAxes;t[0]=i.a,t[1]=i.b,t[2]=i.c;for(let e=0;e<3;e++){let o=s[e],n=a[e];if(r.setFromPoints(n,t),o.isSeparated(r))return!1}let l=i.satBounds,c=i.satAxes,d=this.points;for(let e=0;e<3;e++){let t=l[e],o=c[e];if(r.setFromPoints(o,d),t.isSeparated(r))return!1}for(let e=0;e<3;e++){let i=a[e];for(let e=0;e<4;e++){let s=c[e];if(n.crossVectors(i,s),r.setFromPoints(n,t),o.setFromPoints(n,d),r.isSeparated(o))return!1}}return!0}}(),U.prototype.closestPointToPoint=function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},U.prototype.distanceToPoint=function(){let e=new m.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),U.prototype.distanceToBox=function(){let e=["x","y","z"],t=Array(12).fill().map(()=>new m.Line3),r=Array(12).fill().map(()=>new m.Line3),o=new m.Vector3,n=new m.Vector3;return function(i,s=0,a=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(i))return(a||l)&&(i.getCenter(n),this.closestPointToPoint(n,o),i.closestPointToPoint(o,n),a&&a.copy(o),l&&l.copy(n)),0;let c=s*s,d=i.min,u=i.max,h=this.points,m=1/0;for(let e=0;e<8;e++){let t=h[e];n.copy(t).clamp(d,u);let r=t.distanceToSquared(n);if(r<m&&(m=r,a&&a.copy(t),l&&l.copy(n),r<c))return Math.sqrt(r)}let p=0;for(let o=0;o<3;o++)for(let n=0;n<=1;n++)for(let i=0;i<=1;i++){let s=(o+1)%3,a=(o+2)%3,l=n<<s|i<<a,c=1<<o|n<<s|i<<a,m=h[l],f=h[c];t[p].set(m,f);let y=e[o],g=e[s],x=e[a],w=r[p],_=w.start,T=w.end;_[y]=d[y],_[g]=n?d[g]:u[g],_[x]=i?d[x]:u[g],T[y]=u[y],T[g]=n?d[g]:u[g],T[x]=i?d[x]:u[g],p++}for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)for(let r=0;r<=1;r++){n.x=e?u.x:d.x,n.y=t?u.y:d.y,n.z=r?u.z:d.z,this.closestPointToPoint(n,o);let i=n.distanceToSquared(o);if(i<m&&(m=i,a&&a.copy(o),l&&l.copy(n),i<c))return Math.sqrt(i)}for(let e=0;e<12;e++){let i=t[e];for(let e=0;e<12;e++){V(i,r[e],o,n);let t=o.distanceToSquared(n);if(t<m&&(m=t,a&&a.copy(o),l&&l.copy(n),t<c))return Math.sqrt(t)}}return Math.sqrt(m)}}();class z{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return 0===e.length?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}}function G(e,t){return 65535===t[e+15]}let C=new m.Box3,k=new m.Vector3,K=["x","y","z"],X=function(){let e,t;let r=[],o=new z(()=>new m.Box3);return function(...a){e=o.getPrimitive(),t=o.getPrimitive(),r.push(e,t);let l=function r(o,a,l,c,d=null,u=0,h=0){function m(e){let t=2*e,r=i,o=s;for(;!G(t,r);)e+=8,t=2*e;return o[e+6]}function p(e){let t=2*e,r=i,o=s;for(;!G(t,r);)t=2*(e=o[e+6]);return o[e+6]+r[t+14]}let f=2*o,y=n,g=i,x=s;if(G(f,g)){let t=x[o+6],r=g[f+14];return A(o,y,e),c(t,r,!1,h,u+o,e)}{let n,i,s,f,w,_;let T=o+8,O=x[o+6],B=T,S=O;if(d&&(s=e,f=t,A(B,y,s),A(S,y,f),n=d(s),(i=d(f))<n)){B=O,S=T;let e=n;n=i,i=e,s=f}s||A(B,y,s=e);let P=l(s,G(2*B,g),n,h+1,u+B);if(2===P){let e=m(B);w=c(e,p(B)-e,!0,h+1,u+B,s)}else w=P&&r(B,a,l,c,d,u,h+1);if(w)return!0;A(S,y,f=t);let b=l(f,G(2*S,g),i,h+1,u+S);if(2===b){let e=m(S);_=c(e,p(S)-e,!0,h+1,u+S,f)}else _=b&&r(S,a,l,c,d,u,h+1);return!!_}}(...a);o.releasePrimitive(e),o.releasePrimitive(t),r.pop(),r.pop();let c=r.length;return c>0&&(t=r[c-1],e=r[c-2]),l}}(),W=function(){let e=new N,t=new N,r=new m.Matrix4,o=new U,a=new U;return function l(c,d,u,h,m=null){let p=2*c,f=n,y=i,g=s;if(null===m&&(u.boundingBox||u.computeBoundingBox(),o.set(u.boundingBox.min,u.boundingBox.max,h),m=o),G(p,y)){let o=d.index,n=d.attributes.position,i=u.index,s=u.attributes.position,l=g[c+6],m=y[p+14];if(r.copy(h).invert(),u.boundsTree)return A(c,f,a),a.matrix.copy(r),a.needsUpdate=!0,u.boundsTree.shapecast({intersectsBounds:e=>a.intersectsBox(e),intersectsTriangle:e=>{e.a.applyMatrix4(h),e.b.applyMatrix4(h),e.c.applyMatrix4(h),e.needsUpdate=!0;for(let r=3*l,i=(m+l)*3;r<i;r+=3)if(Y(t,r,o,n),t.needsUpdate=!0,e.intersectsTriangle(t))return!0;return!1}});for(let a=3*l,c=m+3*l;a<c;a+=3){Y(e,a,o,n),e.a.applyMatrix4(r),e.b.applyMatrix4(r),e.c.applyMatrix4(r),e.needsUpdate=!0;for(let r=0,o=i.count;r<o;r+=3)if(Y(t,r,i,s),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{let e=c+8,t=g[c+6];return A(e,f,C),!!(m.intersectsBox(C)&&l(e,d,u,h,m))||(A(t,f,C),!!(m.intersectsBox(C)&&l(t,d,u,h,m)))}}}();function Z(e,t,r,o){return A(e,t,C),r.intersectBox(C,o)}let J=[];function $(e){o&&J.push(o),o=e,n=new Float32Array(e),i=new Uint16Array(e),s=new Uint32Array(e)}function Q(){o=null,n=null,i=null,s=null,J.length&&$(J.pop())}let ee=Symbol("skip tree generation"),et=new m.Box3,er=new m.Box3,eo=new m.Matrix4,en=new U,ei=new U,es=new m.Vector3,ea=new m.Vector3,el=new m.Vector3,ec=new m.Vector3,ed=new m.Vector3,eu=new m.Box3,eh=new z(()=>new N);class em{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),em.serialize(arguments[0],{cloneBuffers:void 0===arguments[2]||arguments[2]});t={cloneBuffers:!0,...t};let r=e.geometry,o=e._roots,n=r.getIndex();return t.cloneBuffers?{roots:o.map(e=>e.slice()),index:n.array.slice()}:{roots:o,index:n.array}}static deserialize(e,t,r={}){if("boolean"==typeof r)return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),em.deserialize(arguments[0],arguments[1],{setIndex:void 0===arguments[2]||arguments[2]});r={setIndex:!0,...r};let{index:o,roots:n}=e,i=new em(t,{...r,[ee]:!0});if(i._roots=n,r.setIndex){let r=t.getIndex();if(null===r){let r=new m.BufferAttribute(e.index,1,!1);t.setIndex(r)}else r.array!==o&&(r.array.set(o),r.needsUpdate=!0)}return i}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw Error("MeshBVH: Only BufferGeometries are supported.");if((t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[ee]:!1},t)).useSharedArrayBuffer&&"undefined"==typeof SharedArrayBuffer)throw Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[ee]||(this._roots=function(e,t){let r,o,n;let i=function(e,t){function r(e){h&&h(e/f)}function o(t,n,h,m=null,f=0){if(!y&&f>=l&&(y=!0,c&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),h<=d||f>=l)return r(n+h),t.offset=n,t.count=h,t;let g=function(e,t,r,o,n,i){let s=-1,a=0;if(0===i)-1!==(s=P(t))&&(a=(t[s]+t[s+3])/2);else if(1===i)-1!==(s=P(e))&&(a=function(e,t,r,o){let n=0;for(let i=t,s=t+r;i<s;i++)n+=e[6*i+2*o];return n/r}(r,o,n,s));else if(i===p){let i=M(e),l=1.25*n,c=6*o,d=(o+n)*6;for(let e=0;e<3;e++){let o=t[e],u=(t[e+3]-o)/32;if(n<8){let t=[...j];t.length=n;let o=0;for(let n=c;n<d;n+=6,o++){let i=t[o];i.candidate=r[n+2*e],i.count=0;let{bounds:s,leftCacheBounds:a,rightCacheBounds:l}=i;for(let e=0;e<3;e++)l[e]=1/0,l[e+3]=-1/0,a[e]=1/0,a[e+3]=-1/0,s[e]=1/0,s[e+3]=-1/0;v(n,r,s)}t.sort(E);let u=n;for(let e=0;e<u;e++){let r=t[e];for(;e+1<u&&t[e+1].candidate===r.candidate;)t.splice(e+1,1),u--}for(let o=c;o<d;o+=6){let n=r[o+2*e];for(let e=0;e<u;e++){let i=t[e];n>=i.candidate?v(o,r,i.rightCacheBounds):(v(o,r,i.leftCacheBounds),i.count++)}}for(let r=0;r<u;r++){let o=t[r],c=o.count,d=n-o.count,u=o.leftCacheBounds,h=o.rightCacheBounds,m=0;0!==c&&(m=M(u)/i);let p=0;0!==d&&(p=M(h)/i);let f=1+1.25*(m*c+p*d);f<l&&(s=e,l=f,a=o.candidate)}}else{for(let e=0;e<32;e++){let t=j[e];t.count=0,t.candidate=o+u+e*u;let r=t.bounds;for(let e=0;e<3;e++)r[e]=1/0,r[e+3]=-1/0}for(let t=c;t<d;t+=6){let n=~~((r[t+2*e]-o)/u);n>=32&&(n=31);let i=j[n];i.count++,v(t,r,i.bounds)}let t=j[31];!function(e,t){t.set(e)}(t.bounds,t.rightCacheBounds);for(let e=30;e>=0;e--){let t=j[e],r=j[e+1];b(t.bounds,r.rightCacheBounds,t.rightCacheBounds)}let h=0;for(let t=0;t<31;t++){let r=j[t],o=r.count,c=r.bounds,d=j[t+1].rightCacheBounds;0!==o&&(0===h?function(e,t){t.set(e)}(c,I):b(c,I,I));let u=0,m=0;0!==(h+=o)&&(u=M(I)/i);let p=n-h;0!==p&&(m=M(d)/i);let f=1+1.25*(u*h+m*p);f<l&&(s=e,l=f,a=r.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${i} used.`);return{axis:s,pos:a}}(t.boundingData,m,s,n,h,u);if(-1===g.axis)return r(n+h),t.offset=n,t.count=h,t;let x=function(e,t,r,o,n){let i=r,s=r+o-1,a=n.pos,l=2*n.axis;for(;;){for(;i<=s&&t[6*i+l]<a;)i++;for(;i<=s&&t[6*s+l]>=a;)s--;if(!(i<s))return i;for(let r=0;r<3;r++){let o=e[3*i+r];e[3*i+r]=e[3*s+r],e[3*s+r]=o;let n=t[6*i+2*r+0];t[6*i+2*r+0]=t[6*s+2*r+0],t[6*s+2*r+0]=n;let a=t[6*i+2*r+1];t[6*i+2*r+1]=t[6*s+2*r+1],t[6*s+2*r+1]=a}i++,s--}}(a,s,n,h,g);if(x===n||x===n+h)r(n+h),t.offset=n,t.count=h;else{t.splitAxis=g.axis;let e=new S,r=x-n;t.left=e,e.boundingData=new Float32Array(6),D(s,n,r,e.boundingData,i),o(e,n,r,i,f+1);let a=new S,l=h-r;t.right=a,a.boundingData=new Float32Array(6),D(s,x,l,a.boundingData,i),o(a,x,l,i,f+1)}return t}!function(e,t){if(!e.index){let r;let o=e.attributes.position.count,n=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;r=o>65535?new Uint32Array(new n(4*o)):new Uint16Array(new n(2*o)),e.setIndex(new m.BufferAttribute(r,1));for(let e=0;e<o;e++)r[e]=e}}(e,t);let n=new Float32Array(6),i=new Float32Array(6),s=function(e,t){let r=e.attributes.position,o=e.index.array,n=o.length/3,i=new Float32Array(6*n),s=r.normalized,a=r.array,l=r.offset||0,c=3;r.isInterleavedBufferAttribute&&(c=r.data.stride);let d=["getX","getY","getZ"];for(let e=0;e<n;e++){let n,u,h;let m=3*e,p=6*e;s?(n=o[m+0],u=o[m+1],h=o[m+2]):(n=o[m+0]*c+l,u=o[m+1]*c+l,h=o[m+2]*c+l);for(let e=0;e<3;e++){let o,l,c;s?(o=r[d[e]](n),l=r[d[e]](u),c=r[d[e]](h)):(o=a[n+e],l=a[u+e],c=a[h+e]);let m=o;l<m&&(m=l),c<m&&(m=c);let f=o;l>f&&(f=l),c>f&&(f=c);let y=(f-m)/2,g=2*e;i[p+g+0]=m+y,i[p+g+1]=y+(Math.abs(m)+y)*5960464477539063e-23,m<t[e]&&(t[e]=m),f>t[e+3]&&(t[e+3]=f)}}return i}(e,n),a=e.index.array,l=t.maxDepth,c=t.verbose,d=t.maxLeafTris,u=t.strategy,h=t.onProgress,f=e.index.count/3,y=!1,g=[],x=function(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],r=new Set;for(let t of e.groups)r.add(t.start),r.add(t.start+t.count);let o=Array.from(r.values()).sort((e,t)=>e-t);for(let e=0;e<o.length-1;e++){let r=o[e],n=o[e+1];t.push({offset:r/3,count:(n-r)/3})}return t}(e);if(1===x.length){let e=x[0],t=new S;t.boundingData=n,function(e,t,r,o){let n=1/0,i=1/0,s=1/0,a=-1/0,l=-1/0,c=-1/0;for(let o=6*t,d=(t+r)*6;o<d;o+=6){let t=e[o+0];t<n&&(n=t),t>a&&(a=t);let r=e[o+2];r<i&&(i=r),r>l&&(l=r);let d=e[o+4];d<s&&(s=d),d>c&&(c=d)}o[0]=n,o[1]=i,o[2]=s,o[3]=a,o[4]=l,o[5]=c}(s,e.offset,e.count,i),o(t,e.offset,e.count,i),g.push(t)}else for(let e of x){let t=new S;t.boundingData=new Float32Array(6),D(s,e.offset,e.count,t.boundingData,i),o(t,e.offset,e.count,i),g.push(t)}return g}(e,t),s=[],a=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let e=0;e<i.length;e++){let t=i[e],l=new a(32*function e(t){return t.count?1:1+e(t.left)+e(t.right)}(t));r=new Float32Array(l),o=new Uint32Array(l),n=new Uint16Array(l),function e(t,i){let s=t/4,a=t/2,l=!!i.count,c=i.boundingData;for(let e=0;e<6;e++)r[s+e]=c[e];if(l){let e=i.offset,r=i.count;return o[s+6]=e,n[a+14]=r,n[a+15]=65535,t+32}{let r;let n=i.left,a=i.right,l=i.splitAxis;if((r=e(t+32,n))/4>4294967296)throw Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return o[s+6]=r/4,r=e(r,a),o[s+7]=l,r}}(0,t),s.push(l)}return s}(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new m.Box3))),this.geometry=e}refit(e=null){let t,r,o,n;e&&Array.isArray(e)&&(e=new Set(e));let i=this.geometry,s=i.index.array,a=i.attributes.position,l=0,c=this._roots;for(let i=0,d=c.length;i<d;i++)t=c[i],r=new Uint32Array(t),o=new Uint16Array(t),n=new Float32Array(t),function t(i,l,c=!1){let d=2*i;if(65535===o[d+15]){let e=r[i+6],t=o[d+14],l=1/0,c=1/0,u=1/0,h=-1/0,m=-1/0,p=-1/0;for(let r=3*e,o=3*(e+t);r<o;r++){let e=s[r],t=a.getX(e),o=a.getY(e),n=a.getZ(e);t<l&&(l=t),t>h&&(h=t),o<c&&(c=o),o>m&&(m=o),n<u&&(u=n),n>p&&(p=n)}return(n[i+0]!==l||n[i+1]!==c||n[i+2]!==u||n[i+3]!==h||n[i+4]!==m||n[i+5]!==p)&&(n[i+0]=l,n[i+1]=c,n[i+2]=u,n[i+3]=h,n[i+4]=m,n[i+5]=p,!0)}{let o=i+8,s=r[i+6],a=c,d=!1,u=!1;e?a||(d=e.has(o+l),u=e.has(s+l),a=!d&&!u):(d=!0,u=!0);let h=a||d,m=a||u,p=!1;h&&(p=t(o,l,a));let f=!1;m&&(f=t(s,l,a));let y=p||f;if(y)for(let e=0;e<3;e++){let t=o+e,r=s+e,a=n[t],l=n[t+3],c=n[r],d=n[r+3];n[i+e]=a<c?a:c,n[i+e+3]=l>d?l:d}return y}}(0,l),l+=t.byteLength}traverse(e,t=0){let r=this._roots[t],o=new Uint32Array(r),n=new Uint16Array(r);(function t(i,s=0){let a=2*i,l=65535===n[a+15];if(l){let t=o[i+6],c=n[a+14];e(s,l,new Float32Array(r,4*i,6),t,c)}else{let n=o[i+6],a=o[i+7];e(s,l,new Float32Array(r,4*i,6),a)||(t(i+8,s+1),t(n,s+1))}})(0)}raycast(e,t=m.FrontSide){let r=this._roots,o=this.geometry,a=[],l=t.isMaterial,c=Array.isArray(t),d=o.groups,u=l?t.side:t;for(let l=0,h=r.length;l<h;l++){let h=c?t[d[l].materialIndex].side:u,m=a.length;if($(r[l]),function e(t,r,o,a,l){let c=2*t,d=n,u=i,h=s;if(G(c,u))!function(e,t,r,o,n,i){for(let s=o,a=o+n;s<a;s++)O(e,t,r,s,i)}(r,o,a,h[t+6],u[c+14],l);else{let n=t+8;Z(n,d,a,k)&&e(n,r,o,a,l);let i=h[t+6];Z(i,d,a,k)&&e(i,r,o,a,l)}}(0,o,h,e,a),Q(),c){let e=d[l].materialIndex;for(let t=m,r=a.length;t<r;t++)a[t].face.materialIndex=e}}return a}raycastFirst(e,t=m.FrontSide){let r=this._roots,o=this.geometry,a=t.isMaterial,l=Array.isArray(t),c=null,d=o.groups,u=a?t.side:t;for(let a=0,h=r.length;a<h;a++){let h=l?t[d[a].materialIndex].side:u;$(r[a]);let m=function e(t,r,o,a){let l=2*t,c=n,d=i,u=s;if(G(l,d))return function(e,t,r,o,n){let i=1/0,s=null;for(let a=o,l=o+n;a<l;a++){let o=O(e,t,r,a);o&&o.distance<i&&(s=o,i=o.distance)}return s}(r,o,a,u[t+6],d[l+14]);{let n,i;let s=u[t+7],l=K[s],d=a.direction[l]>=0;d?(n=t+8,i=u[t+6]):(n=u[t+6],i=t+8);let h=Z(n,c,a,k)?e(n,r,o,a):null;if(h){let e=h.point[l];if(d?e<=c[i+s]:e>=c[i+s+3])return h}let m=Z(i,c,a,k)?e(i,r,o,a):null;return h&&m?h.distance<=m.distance?h:m:h||m||null}}(0,o,h,e);Q(),null!=m&&(null==c||m.distance<c.distance)&&(c=m,l&&(m.face.materialIndex=d[a].materialIndex))}return c}intersectsGeometry(e,t){let r=this.geometry,o=!1;for(let n of this._roots)if($(n),o=W(0,r,e,t),Q(),o)break;return o}shapecast(e,t,r){let o=this.geometry;if(e instanceof Function){if(t){let e=t;t=(t,r,o,n)=>{let i=3*r;return e(t,i,i+1,i+2,o,n)}}e={boundsTraverseOrder:r,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let n=eh.getPrimitive(),{boundsTraverseOrder:i,intersectsBounds:s,intersectsRange:a,intersectsTriangle:l}=e;if(a&&l){let e=a;a=(t,r,i,s,a)=>!!e(t,r,i,s,a)||q(t,r,o,l,i,s,n)}else a||(a=l?(e,t,r,i)=>q(e,t,o,l,r,i,n):(e,t,r)=>r);let c=!1,d=0;for(let e of this._roots){if($(e),c=X(0,o,s,a,i,d),Q(),c)break;d+=e.byteLength}return eh.releasePrimitive(n),c}bvhcast(e,t,r){let{intersectsRanges:o,intersectsTriangles:n}=r,i=this.geometry.index,s=this.geometry.attributes.position,a=e.geometry.index,l=e.geometry.attributes.position;eo.copy(t).invert();let c=eh.getPrimitive(),d=eh.getPrimitive();if(n){function u(e,r,o,u,h,m,p,f){for(let y=o,g=o+u;y<g;y++){Y(d,3*y,a,l),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let t=e,o=e+r;t<o;t++)if(Y(c,3*t,i,s),c.needsUpdate=!0,n(c,d,t,y,h,m,p,f))return!0}return!1}if(o){let e=o;o=function(t,r,o,n,i,s,a,l){return!!e(t,r,o,n,i,s,a,l)||u(t,r,o,n,i,s,a,l)}}else o=u}e.getBoundingBox(er),er.applyMatrix4(t);let h=this.shapecast({intersectsBounds:e=>er.intersectsBox(e),intersectsRange:(t,r,n,i,s,a)=>(et.copy(a),et.applyMatrix4(eo),e.shapecast({intersectsBounds:e=>et.intersectsBox(e),intersectsRange:(e,n,a,l,c)=>o(t,r,e,n,i,s,l,c)}))});return eh.releasePrimitive(c),eh.releasePrimitive(d),h}intersectsBox(e,t){return en.set(e.min,e.max,t),en.needsUpdate=!0,this.shapecast({intersectsBounds:e=>en.intersectsBox(e),intersectsTriangle:e=>en.intersectsTriangle(e)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,r={},o={},n=0,i=1/0){e.boundingBox||e.computeBoundingBox(),en.set(e.boundingBox.min,e.boundingBox.max,t),en.needsUpdate=!0;let s=this.geometry,a=s.attributes.position,l=s.index,c=e.attributes.position,d=e.index,u=eh.getPrimitive(),h=eh.getPrimitive(),m=null,p=null;o&&(m=ec,p=ed);let f=1/0,y=null,g=null;return(eo.copy(t).invert(),ei.matrix.copy(eo),this.shapecast({boundsTraverseOrder:e=>en.distanceToBox(e),intersectsBounds:(e,t,r)=>r<f&&r<i&&(t&&(ei.min.copy(e.min),ei.max.copy(e.max),ei.needsUpdate=!0),!0),intersectsRange:(r,o)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:e=>ei.distanceToBox(e),intersectsBounds:(e,t,r)=>r<f&&r<i,intersectsRange:(e,i)=>{for(let s=3*e,x=(e+i)*3;s<x;s+=3){Y(h,s,d,c),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let e=3*r,t=(r+o)*3;e<t;e+=3){Y(u,e,l,a),u.needsUpdate=!0;let t=u.distanceToTriangle(h,ea,m);if(t<f&&(el.copy(ea),p&&p.copy(m),f=t,y=e/3,g=s/3),t<n)return!0}}}});{let e=d?d.count:c.count;for(let i=0;i<e;i+=3){Y(h,i,d,c),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let e=3*r,t=(r+o)*3;e<t;e+=3){Y(u,e,l,a),u.needsUpdate=!0;let t=u.distanceToTriangle(h,ea,m);if(t<f&&(el.copy(ea),p&&p.copy(m),f=t,y=e/3,g=i/3),t<n)return!0}}}}}),eh.releasePrimitive(u),eh.releasePrimitive(h),f===1/0)?null:(r.point?r.point.copy(el):r.point=el.clone(),r.distance=f,r.faceIndex=y,o&&(o.point?o.point.copy(p):o.point=p.clone(),o.point.applyMatrix4(eo),el.applyMatrix4(eo),o.distance=el.sub(o.point).length(),o.faceIndex=g),r)}closestPointToPoint(e,t={},r=0,o=1/0){let n=r*r,i=o*o,s=1/0,a=null;if(this.shapecast({boundsTraverseOrder:t=>(es.copy(e).clamp(t.min,t.max),es.distanceToSquared(e)),intersectsBounds:(e,t,r)=>r<s&&r<i,intersectsTriangle:(t,r)=>{t.closestPointToPoint(e,es);let o=e.distanceToSquared(es);return o<s&&(ea.copy(es),s=o,a=r),o<n}}),s===1/0)return null;let l=Math.sqrt(s);return t.point?t.point.copy(ea):t.point=ea.clone(),t.distance=l,t.faceIndex=a,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{A(0,new Float32Array(t),eu),e.union(eu)}),e}}let ep=new m.Ray,ef=new m.Matrix4,ey=m.Mesh.prototype.raycast;function eg(e,t){if(this.geometry.boundsTree){if(void 0===this.material)return;ef.copy(this.matrixWorld).invert(),ep.copy(e.ray).applyMatrix4(ef);let r=this.geometry.boundsTree;if(!0===e.firstHitOnly){let o=B(r.raycastFirst(ep,this.material),this,e);o&&t.push(o)}else{let o=r.raycast(ep,this.material);for(let r=0,n=o.length;r<n;r++){let n=B(o[r],this,e);n&&t.push(n)}}}else ey.call(this,e,t)}function ex(e){return this.boundsTree=new em(this,e),this.boundsTree}function ew(){this.boundsTree=null}let e_=e=>e.isMesh,eT=l.forwardRef(({enabled:e=!0,firstHitOnly:t=!1,children:r,strategy:o=p,verbose:n=!1,setBoundingBox:i=!0,maxDepth:s=40,maxLeafTris:a=10,...c},u)=>{let f=l.useRef(null),y=(0,d.z)(e=>e.raycaster);return l.useImperativeHandle(u,()=>f.current,[]),l.useEffect(()=>{if(e){let e={strategy:o,verbose:n,setBoundingBox:i,maxDepth:s,maxLeafTris:a},r=f.current;return y.firstHitOnly=t,r.traverse(t=>{e_(t)&&!t.geometry.boundsTree&&t.raycast===m.Mesh.prototype.raycast&&(t.raycast=eg,t.geometry.computeBoundsTree=ex,t.geometry.disposeBoundsTree=ew,t.geometry.computeBoundsTree(e))}),()=>{delete y.firstHitOnly,r.traverse(e=>{e_(e)&&e.geometry.boundsTree&&(e.geometry.disposeBoundsTree(),e.raycast=m.Mesh.prototype.raycast)})}}}),l.createElement("group",(0,h.Z)({ref:f},c),r)});var eO=r(2476),eB=r(2364),eS=r(9451),eA=r(3453),eP=r(1546),eb=r(7560),ev=r(8494),eM=r(5035);function eD(e){let{nodes:t,materials:r}=(0,eM.L)("/models/booth_detail.glb");return(0,a.jsxs)("group",{...e,dispose:null,children:[(0,a.jsxs)("group",{position:[0,-200,7897.713],rotation:[-Math.PI,-1.178,-Math.PI],children:[a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_1.geometry,material:r.WHITE_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_2.geometry,material:r.GREY_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_3.geometry,material:r.GLASS_GLTF}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_4.geometry,material:r.GREEN_1_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_5.geometry,material:r.WATER_1_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_6.geometry,material:r.FLOOR_STAND}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_7.geometry,material:r.ROBO_GREY_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_8.geometry,material:r.ROBO_WHITE_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_9.geometry,material:r.ROBO_BLACK_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_10.geometry,material:r.OGRADE_SIVE}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_11.geometry,material:r.FLOOR_STAND_DARK}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_12.geometry,material:r.FLOOR_MATERIAL_2}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_13.geometry,material:r.PULT_MAT}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_14.geometry,material:r.EXIT_SIGN_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_15.geometry,material:r.GREEN_2_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_16.geometry,material:r.BOOTH_MATERIAL_2}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_17.geometry,material:r.TELLOW_GREEN}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_18.geometry,material:r.GOLDEN_BROWN_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_19.geometry,material:r.GREEN_3_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_20.geometry,material:r.PREGRADE_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_21.geometry,material:r.A4_BLUE}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_22.geometry,material:r.PORTAL_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_23.geometry,material:r.GREEN_TREES}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_24.geometry,material:r.SOFA_1_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_25.geometry,material:r.A4_RED}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_26.geometry,material:r.PANEL_1}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_27.geometry,material:r.PANEL_2}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_28.geometry,material:r.KINDLE_BLUE}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_29.geometry,material:r.PANEL_6}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_30.geometry,material:r.BOOTH_BANNER_4}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_31.geometry,material:r.PANE_4}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_32.geometry,material:r.SHEMA}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_33.geometry,material:r.BOOTH_BANNER_1}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_34.geometry,material:r.BOOTH_BANNER_2}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_35.geometry,material:r.BOOTH_BANNER_3}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_36.geometry,material:r.KINDLE_RED}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_37.geometry,material:r.BRAND_PLACE}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.BOOTH_DETAIL_MOD_38.geometry,material:r.ORANGE})]}),(0,a.jsxs)("group",{position:[313.105,467.022,241.887],rotation:[0,-Math.PI/2,0],children:[a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.POVRATAK_INFO_1.geometry,material:r.ROBO_GREY_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.POVRATAK_INFO_2.geometry,material:r.OGRADE_SIVE}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.POVRATAK_INFO_3.geometry,material:r.POVRATAK_INFO})]}),(0,a.jsxs)("group",{position:[-322.515,467.022,241.886],rotation:[0,-Math.PI/2,0],children:[a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.POVRATAK_SAJAM_1.geometry,material:r.ROBO_GREY_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.POVRATAK_SAJAM_2.geometry,material:r.OGRADE_SIVE}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.POVRATAK_SAJAM_3.geometry,material:r.POVRATAK_SAJAM})]}),(0,a.jsxs)("group",{position:[-22.969,397.718,558.96],rotation:[-Math.PI,-.96,-Math.PI],children:[a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.LAPTOP_1_BD_1.geometry,material:r.ROBO_GREY_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.LAPTOP_1_BD_2.geometry,material:r.ROBO_BLACK_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.LAPTOP_1_BD_3.geometry,material:r.OGRADE_SIVE})]}),(0,a.jsxs)("group",{position:[-202.588,397.718,488.223],rotation:[-Math.PI,-.654,-Math.PI],children:[a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.LAPTOP_2_BD_1.geometry,material:r.ROBO_GREY_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.LAPTOP_2_BD_2.geometry,material:r.ROBO_BLACK_PHY}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.LAPTOP_2_BD_3.geometry,material:r.OGRADE_SIVE})]})]})}eM.L.preload("/models/booth_detail.glb");var eE=r(7470),ej=r.n(eE),eI=r(2067),eL=r(22);let eH=e=>{let{nodes:t,materials:r}=(0,eM.L)("/models/robo.glb"),[o,n]=(0,l.useState)(!1),i=(0,l.useRef)(),s=(0,l.useRef)(),{tooltip:c,company_logo:u,company_name:h,infoPult:m}=e;return(0,l.useEffect)(()=>{i.current.randomTime=33*Math.random()},[]),(0,d.A)(({clock:t})=>{i.current.position.y=.05*Math.sin(i.current.randomTime+3*t.getElapsedTime())+e.position[1]-3.5}),(0,d.A)(()=>{(0,eL.S)(o)},[o]),(0,a.jsxs)("group",{...e,dispose:null,onPointerOver:()=>{n(!0)},onPointerOut:()=>{n(!1)},onClick:e.onClick,children:[c&&a.jsx(eI.V,{position:[.2,1,0],className:`${o?"opacity-100":"opacity-0"} _3d-content-wrapper tooltip transition-all duration-200 ease-in`,children:(0,a.jsxs)("div",{className:`_3d-content ${o&&"active"}`,children:[m?a.jsx("figure",{className:"mb-2",children:"nzs logo"}):a.jsx("figure",{className:"relative mb-2 aspect-auto h-9 w-2/5",children:"logo again"}),a.jsx("div",{className:"_3d-description",children:c})]})}),a.jsx("group",{ref:i,rotation:[-Math.PI/2,0,0],children:(0,a.jsxs)("group",{scale:.01,children:[a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Capsule040_1.geometry,material:r.ROBOTNIK_BLACK}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Capsule040_2.geometry,ref:s,children:a.jsx("meshStandardMaterial",{...r.ROBOTNIK_GREY,color:o?"#80a3a8":"#bababa"})}),a.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Capsule040_3.geometry,material:r.ROBOTNIK_WHITE,children:a.jsx("meshStandardMaterial",{...r.ROBOTNIK_WHITE,color:o?"#b0e0e6":"white"})})]})})]})};eH.propTypes={tooltip:ej().string},eH.defaultProps={tooltip:null},eM.L.preload("/models/robo.glb"),r(8228);var eV=r(9030),eR=r(2254),eF=r(221),eN=r(2589);ev.OH.assign({frameLoop:"always"});let eU=(0,l.memo)(function({company_logo:e,company_name:t}){let[r,o]=(0,l.useState)(!1);(0,eR.useRouter)();let n=new m.Color,i=new m.Color;n.setHSL(.6,1,.6),i.setHSL(.095,1,.75);let s=(0,l.useRef)(),d=()=>{Papercups.toggle()},h={onClick:()=>d(),tooltip:"tooltip message",company_logo:e,company_name:t};return(0,a.jsxs)(a.Fragment,{children:[r&&a.jsx(eF.Z,{}),a.jsx(c.Xz,{style:{width:"100vw",height:"100vh"},shadows:!0,gl:{powerPreference:"high-performance"},linear:!0,children:(0,a.jsxs)(l.Suspense,{fallback:a.jsx(eN.Z,{}),children:[a.jsx(ez,{}),a.jsx(u.P,{}),(0,a.jsxs)(eT,{children:[a.jsx(eD,{scale:.01,rotation:[0,-Math.PI,0],position:[0,0,0]}),a.jsx(eH,{position:[.04,3.45,-4.975],rotation:[0,Math.PI,0],...h},"robot1"),a.jsx(eH,{position:[1.75,3.45,-4.45],rotation:[0,(0,eV.Yr)(160),0],...h},"robot2"),a.jsx(eH,{position:[4.2,3.45,-5.8],rotation:[0,(0,eV.Yr)(120),0],...h},"robot3")]}),a.jsx("hemisphereLight",{color:n,groundColor:i,position:[-7,25,13],intensity:.7}),a.jsx(eq,{}),a.jsx("ambientLight",{color:"#FFA500",intensity:.3}),a.jsx(eO.qA,{background:!0,path:"/images/",files:"venice_sunset_1k.hdr",blur:1}),a.jsx(eB.q,{scale:1e3,sunPosition:[10,10,30],turbidity:.1}),a.jsx(eY,{pointRef:s})]})})]})});function eY({lightRef:e}){let{gl:t}=(0,d.z)(),r=(0,l.useRef)(),[o,n]=(0,l.useState)(!1),[i,s]=(0,eb.useSpring)(()=>({from:{position:[.28702245335690946,5.392361243915242,-27]},to:{position:[.28702245335690946,5.392361243915242,-10.176141259891661],target:[0,2,-4]},onRest:()=>{n(!0)},delay:1600,config:{mass:1,tension:100,friction:30,precision:.001,restVelocity:1}})),c=(0,eb.animated)(eS.c),u=(0,eb.animated)(eA.z);return(0,a.jsxs)(a.Fragment,{children:[a.jsx(c,{ref:r,makeDefault:!0,fov:80,position:i.position}),a.jsx(u,{enableDamping:!0,dampingFactor:.1,rotateSpeed:.5,args:[r,t.domElement],maxDistance:o?16:222,minDistance:6,autoRotateSpeed:0,enableRotate:o,target:[0,3,-4],polarAngle:3*Math.PI/13,minAzimuthAngle:(0,eV.Yr)(120),maxAzimuthAngle:(0,eV.Yr)(240),minPolarAngle:(0,eV.Yr)(35),maxPolarAngle:(0,eV.Yr)(80)}),a.jsx(eP.x,{color:"blue",points:[[0,0,0],[0,0,0]]})]})}let eq=()=>{let e=(0,l.useRef)();return a.jsx("pointLight",{ref:e,position:[-5,3,-10],color:"#fffefc",intensity:.13})},ez=()=>{let e=(0,l.useRef)();return a.jsx("directionalLight",{ref:e,position:[10,90,60],angle:.3,penumbra:.1,castShadow:!0,intensity:1,color:"#fffbb4","shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-bias":-.00003,children:a.jsx("orthographicCamera",{fov:80,shadowMap:!0,position:[-2,2,-30],attach:"shadow-camera",args:[-10,10,10,-10,.1,550]})})},eG=eU},2471:e=>{e.exports={}},4188:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var o=r(5036);let n=(0,r(6843).createProxy)(String.raw`D:\www\virtual_fair_static\src\app\3d\DetailScene.jsx`),{__esModule:i,$$typeof:s}=n,a=n.default;var l=r(2471),c=r.n(l);function d(){return o.jsx("main",{className:c().main,children:o.jsx(a,{})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,977,250,416],()=>r(406));module.exports=o})();